<!-- Guard: render only when scopePath is a non-empty string -->
<ng-container *ngIf="scopePath as sp">

  <!-- HERO -->
  <app-hero
    [scope]="sp"
    [title]="'hero.title'"
    [subtitle]="'hero.subtitle'"
    [ctaText]="'hero.back'"
    [ctaLink]="['/']"
    [ctaFragment]="'products'">
  </app-hero>

  <section class="container tutorial narrow">
    <ng-container *transloco="let _; scope: sp"></ng-container>
    <h1>{{ tr('title') }}</h1>

    <!-- KLUCZOWE: precyzyjnie rozdzielamy po slug -->
    <ng-container [ngSwitch]="sp">

      <!-- ========== ABC-land ========== -->
      <ng-container *ngSwitchCase="'abc-land'">
        <img
          class="app-header"
          src="assets/tutorials/abc-land/scene2_800.webp"
          [attr.alt]="tr('title')"
          fadeInOnScroll />

        <h2>{{ tr('description.title') }}</h2>
        <p class="lead">{{ tr('description.lead') }}</p>

        <app-tutorial-section
          [title]="tr('sections.startMenu.title')"
          [img]="'assets/tutorials/abc-land/screenshoot2.jpg'"
          [lazyImg]="true"
          [alt]="tr('sections.startMenu.caption')"
          [caption]="tr('sections.startMenu.caption')"
          [reverse]="true"
          [scope]="sp">
          <p>{{ tr('sections.startMenu.intro') }}</p>
          <ul>
            <li *ngFor="let item of tr('sections.startMenu.items')">{{ item }}</li>
          </ul>
        </app-tutorial-section>

        <app-tutorial-section
          [title]="tr('sections.sound.title')"
          [img]="'assets/tutorials/abc-land/sound-settings.jpg'"
          [lazyImg]="true"
          [alt]="tr('sections.sound.caption')"
          [caption]="tr('sections.sound.caption')"
          [reverse]="true"
          [scope]="sp">
          <p>{{ tr('sections.sound.p') }}</p>
        </app-tutorial-section>

        <app-tutorial-section
          [title]="tr('sections.intro.title')"
          [img]="'assets/tutorials/abc-land/screenshoot3.jpg'"
          [lazyImg]="true"
          [alt]="tr('sections.intro.caption')"
          [caption]="tr('sections.intro.caption')"
          [reverse]="true"
          [scope]="sp">
          <p>{{ tr('sections.intro.p') }}</p>
        </app-tutorial-section>

        <app-tutorial-section
          [title]="tr('sections.steering.title')"
          [img]="'assets/tutorials/abc-land/screenshoot7.jpg'"
          [lazyImg]="true"
          [alt]="tr('sections.steering.caption')"
          [caption]="tr('sections.steering.caption')"
          [reverse]="true"
          [scope]="sp">
          <p>{{ tr('sections.steering.p1') }}</p>
          <p>{{ tr('sections.steering.p2') }}</p>
          <p>{{ tr('sections.steering.p3') }}</p>
        </app-tutorial-section>

        <app-tutorial-section
          [title]="tr('sections.tasks.title')"
          [img]="'assets/tutorials/abc-land/screenshoot1.jpg'"
          [lazyImg]="true"
          [alt]="tr('sections.tasks.caption')"
          [caption]="tr('sections.tasks.caption')"
          [reverse]="true"
          [scope]="sp">
          <p>{{ tr('sections.tasks.p1') }}</p>
          <section id="main-game" class="section">
            <p>{{ tr('sections.tasks.savingExample') }}</p>
          </section>
        </app-tutorial-section>

        <app-tutorial-section
          [title]="tr('sections.lighter.title')"
          [img]="'assets/tutorials/abc-land/Lighter.png'"
          [lazyImg]="true"
          [alt]="tr('sections.lighter.caption')"
          [caption]="tr('sections.lighter.caption')"
          [reverse]="true"
          [scope]="sp">
          <p>{{ tr('sections.lighter.p') }}</p>
        </app-tutorial-section>

        <app-tutorial-section
          [title]="tr('sections.fixing.title')"
          [img]="'assets/tutorials/abc-land/fixing_items.png'"
          [lazyImg]="true"
          [alt]="tr('sections.fixing.caption')"
          [caption]="tr('sections.fixing.caption')"
          [reverse]="true"
          [scope]="sp">
          <p>{{ tr('sections.fixing.p') }}</p>
        </app-tutorial-section>

        <app-tutorial-section
          [title]="tr('sections.buying.title')"
          [img]="'assets/tutorials/abc-land/Buying_items.png'"
          [lazyImg]="true"
          [alt]="tr('sections.buying.caption')"
          [caption]="tr('sections.buying.caption')"
          [reverse]="true"
          [scope]="sp">
          <p>{{ tr('sections.buying.p') }}</p>
        </app-tutorial-section>

        <app-tutorial-section
          [title]="tr('sections.map.title')"
          youtubeId="p2_UkiHcRmQ"
          [autoplay]="false"
          [start]="0"
          [reverse]="true"
          [lazyVideo]="false"
          [caption]="tr('sections.map.caption')"
          [scope]="sp">
          <p>{{ tr('sections.map.videoCaption') }}</p>
        </app-tutorial-section>

        <!-- GALLERY -->
        <section id="gallery" class="section">
          <h3>{{ tr('gallery.title') }}</h3>
          <div class="media-grid">
            <figure>
              <img src="assets/tutorials/abc-land/screenshoot2.jpg"
                   [attr.alt]="tr('gallery.mainMenu')" loading="lazy" decoding="async">
              <figcaption>{{ tr('gallery.mainMenu') }}</figcaption>
            </figure>
            <figure>
              <img src="assets/tutorials/abc-land/screenshoot3.jpg"
                   [attr.alt]="tr('gallery.intro')" loading="lazy" decoding="async">
              <figcaption>{{ tr('gallery.intro') }}</figcaption>
            </figure>
            <figure>
              <img src="assets/tutorials/abc-land/screenshoot1.jpg"
                   [attr.alt]="tr('gallery.tasks')" loading="lazy" decoding="async">
              <figcaption>{{ tr('gallery.tasks') }}</figcaption>
            </figure>
          </div>
        </section>

        <!-- VIDEO -->
        <section id="video" class="section">
          <h3>{{ tr('video.title') }}</h3>
          <div class="video">
            <figure class="yt yt--md">
              <iframe
                src="https://www.youtube-nocookie.com/embed/5Q6ibSmZLxs?si=I9jAXtzt8k9WFRFR"
                title="ABC-Land demo" loading="lazy"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen></iframe>
              <figcaption>{{ tr('video.walkthrough') }}</figcaption>
            </figure>
            <small class="caption">{{ tr('video.walkthrough') }}</small>
          </div>
        </section>
      </ng-container>
      <!-- /ABC-land -->

      <!-- ========== Basketball Shots ========== -->
      <ng-container *ngSwitchCase="'basketball-shots'">
        <!-- TODO: wstaw własną treść/komponenty dla Basketball Shots -->
        <h2>{{ tr('description.title') }}</h2>
        <p class="lead">{{ tr('description.lead') }}</p>
        <!-- przykład: -->
        <img class="app-header"
             src="assets/tutorials/basketball-shots/header.jpg"
             [attr.alt]="tr('title')" loading="lazy" decoding="async">
        <!-- kolejne sekcje / video / galeria specyficzne dla tej gry -->
      </ng-container>

      <!-- ========== Lucky Draw ========== -->
      <ng-container *ngSwitchCase="'lucky-draw'">
        <!-- TODO: wstaw własną treść/komponenty dla Lucky draw -->
        <h2>{{ tr('description.title') }}</h2>
        <p class="lead">{{ tr('description.lead') }}</p>
        <!-- przykład: -->
        <img class="app-header"
             src="assets/tutorials/lucky-draw/header.jpg"
             [attr.alt]="tr('title')" loading="lazy" decoding="async">
        <!-- kolejne sekcje / video / galeria specyficzne dla tej gry -->
      </ng-container>


        <!-- ========== System of Equations Trainer ========== -->
        <ng-container *ngSwitchCase="'system-of-equations-trainer'">
          <!-- TODO: wstaw własną treść/komponenty dla Lucky draw -->
          <h2>{{ tr('description.title') }}</h2>
          <p class="lead">{{ tr('description.lead') }}</p>
          <!-- przykład: -->
          <img class="app-header"
               src="assets/tutorials/system-of-equations-trainer/header.jpg"
               [attr.alt]="tr('title')" loading="lazy" decoding="async">
          <!-- kolejne sekcje / video / galeria specyficzne dla tej gry -->
        </ng-container>
       <!-- ========== Bible Echo ========== -->
       <ng-container *ngSwitchCase="'bibble-echo'">
        <!-- TODO: wstaw własną treść/komponenty dla Lucky draw -->
        <h2>{{ tr('description.title') }}</h2>
        <p class="lead">{{ tr('description.lead') }}</p>
        <!-- przykład: -->
        <img class="app-header"
             src="assets/tutorials/bibble-echo/header.jpg"
             [attr.alt]="tr('title')" loading="lazy" decoding="async">
        <!-- kolejne sekcje / video / galeria specyficzne dla tej gry -->
      </ng-container>
      <!-- ========== Bubble World ========== -->
      <ng-container *ngSwitchCase="'bubble-world'">
        <!-- TODO: wstaw własną treść/komponenty dla Lucky draw -->
        <h2>{{ tr('description.title') }}</h2>
        <p class="lead">{{ tr('description.lead') }}</p>
        <!-- przykład: -->
        <img class="app-header"
             src="assets/tutorials/bubble-world/header.jpg"
             [attr.alt]="tr('title')" loading="lazy" decoding="async">
        <!-- kolejne sekcje / video / galeria specyficzne dla tej gry -->
      </ng-container>
      <!-- ========== Fallback (nieznany slug) ========== -->
      <ng-container *ngSwitchDefault>
        <p class="muted">Nie znaleziono treści dla tego produktu.</p>
      </ng-container>

    </ng-container> <!-- /ngSwitch -->
  </section>
</ng-container>
