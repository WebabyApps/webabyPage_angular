/* TIMING — jedno źródło prawdy */
.intro {
  /* === tylko tu trzymaj zmienne === */
  --glow-blur: 16px;
  --glow-alpha: .9;
  --glow-width-mul: 2.6;
  --glow-fade: .85;
  --glow-pulse-dur: 5s;

  --outline-w: 8;
  --spin-dur: 1.8s;
  --draw-gap: 0.15s;
  --draw-dur: 1.6s;
  --draw-stagger: 0.12s;

  /* starty/końce obrysu */
  --d1-begin: calc(var(--spin-dur) + var(--draw-gap));
  --d2-begin: calc(var(--spin-dur) + var(--draw-gap) + var(--draw-stagger));
  --d2-end:   calc(var(--d2-begin) + var(--draw-dur));

  /* ⬇️ NAPIS ma startować RAZEM z obrysem p1 */
  --hero-begin: var(--d1-begin);

  /* rysowanie liter "webaby" */
  --wm-draw: .9s;
  --wm-stagger: .18s;
  --wm-letters: 6;
  --wm-total: calc(var(--wm-draw) + var(--wm-stagger) * (var(--wm-letters) - 1) + .45s);

  /* lift dopiero po narysowaniu napisu */
  --lift-begin: calc(var(--hero-begin) + var(--wm-total));

  /* UI */
  --start-rot: 45deg;
  --logo-w: min(52vmin, 420px);
  --wordmark-scale: 1.145;

  --wordmark-shift-x: 100px;

  /* layout overlaya (przeniosłem tu, żeby nie dublować drugiej .intro) */
  position: fixed; inset: 0;
  background: var(--intro-bg, #0b0b0c);
  display: grid; place-items: center;
  z-index: 9999;
  overflow: hidden;
  /* korekta środka geometrii – działa PRZED obrotem */

  --logo-nudge-x: 0px; /* użyj wartości dx z konsoli */
  --logo-nudge-y: 0px;  /* zwykle 0 */
}


/* ⬇️ zamraża szerokość kolumny na docelową (logo vs wordmark) */
.intro.playing .intro-center{
  inline-size: max(var(--logo-w), calc(var(--logo-w) * var(--wordmark-scale)));
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) translateY(0);
  display: flex;
  flex-direction: column;
  align-items: center;
 // gap: .6rem;
  pointer-events: none;
  will-change: transform, opacity;
  animation: liftUp .7s cubic-bezier(.22,1,.36,1) forwards;
  animation-delay: var(--lift-begin);
}

/* LOGO i NAPIS zawsze centrowane wewnątrz pudełka */
.logo,
.wordmark { display:block; margin-inline:auto; }

/* NAPIS (SVG lub PNG) — refined size & smooth entry */
.wordmark {
  display: block;
  width: calc(var(--logo-w) * var(--wordmark-scale));
  height: auto;
  //margin-block-start: 1.4rem;
 // margin-inline: auto;
  opacity: 0;
  transform-origin: center;
  transform-box: fill-box;

  /* start smaller and slightly lower */
  //transform: translateY(6px) scale(0.82);
transform: translateX(var(--wordmark-shift-x)) scale(1);
  animation: wmEnter .9s cubic-bezier(.22,1,.36,1) forwards;
  animation-delay: var(--hero-begin, 0s);
}

/* subtler scale, same fade timing */
@keyframes wmEnter {
  0%   { opacity: 0; transform: translateY(6px)  scale(0.82); }
  70%  { opacity: 1; transform: translateY(0px)  scale(1.02); }
  100% { opacity: 1; transform: translateY(0px)  scale(1); }
}

/* pełny transform w keyframes, baza centrowania nie zmienia się */
@keyframes liftUp {
  from { transform: translate(-50%, -50%) translateY(0);    opacity: 1; }
  to   { transform: translate(-50%, -50%) translateY(-24px); opacity: 0; }
}


  

  @keyframes wmDraw { to { stroke-dashoffset: 0; } }


  /* obrys liter */
.wordmark--draw .letter .stroke path{
   stroke-dasharray: none;
  stroke-dashoffset: 0;
  animation: none;
}

/* wypełnienie liter chwilę po obrysie */
.wordmark--draw .letter .fill{
  opacity: 1;
  animation: none;
}

  @keyframes wmFill { to { opacity: 1; } }
  
  /* Jeśli używasz PNG – popraw ostrość skalowania */
  .wordmark:is(img){ image-rendering: -webkit-optimize-contrast; }
  
  /* Jeśli robisz prosty fade */
  .wordmark--fade{
    -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,1) 72%, rgba(0,0,0,0) 100%);
            mask-image: linear-gradient(to top, rgba(0,0,0,1) 72%, rgba(0,0,0,0) 100%);
  }
  

  
  
  
  
//  .logo {
//    width: min(52vmin, 420px);
//    height: auto;
//  }
  
  /* 1) OBRÓT całości */

  .logo-shape{
  transform-box: view-box;
  transform-origin: 50% 50%;


  --logo-base: translate(var(--logo-nudge-x), var(--logo-nudge-y));

  /* ⬇️ START: baza + obrót */
  transform: var(--logo-base) rotate(var(--start-rot));
  animation: spin var(--spin-dur) cubic-bezier(.22,1,.36,1) forwards;
}
@keyframes spin{
  /* ⬇️ KONIEC: też baza + obrót=0 — nic się nie „zgubi” */
  to{ transform: var(--logo-base) rotate(0deg); }
}


  
  
  /* 2) PRZYGOTOWANIE obrysu: ukryty dopóki nie zaczniemy rysować */
  .outline {
    stroke-width: var(--outline-w);            /* zmień na 2 jeśli chcesz cieńszą */
  }

  .outline use { vector-effect: non-scaling-stroke; }
  
  .draw {
    stroke-dasharray: 1;
    stroke-dashoffset: 1;
    /* niech nic nie „mrugnie” przed startem: */
    opacity: 1;
    animation-name: drawLine;
    animation-timing-function: cubic-bezier(.22,1,.36,1);
    animation-fill-mode: forwards;
    animation-duration: var(--draw-dur);
  }
  
  /* p1 zaczyna po obrocie */
  .draw.d1 { animation-delay: var(--d1-begin); }
  /* p2 zaczyna jeszcze później */
  .draw.d2 { animation-delay: var(--d2-begin); }
  
  @keyframes drawLine {
    to { stroke-dashoffset: 0; }
  }


  .intro {
    position: fixed; inset: 0;  /* overlay nad stroną */
    background: var(--intro-bg, #0b0b0c); /* albo 'transparent' jeśli nie chcesz tła */
    display: grid; place-items: center;
    z-index: 9999;  /* nad całą stroną */
    overflow: hidden;
  }
  




  
  @media (prefers-reduced-motion: reduce) {
    app-intro-splash { display: none !important; }
  }
  
  @keyframes wmIn { to { opacity:1; transform: translateY(0); } }

  .skip-intro {
  inline-size: 42px;
  block-size: 42px;
  display: grid; place-items: center;
  pointer-events: auto;
  position: absolute; left: 16px; bottom: 16px;
  z-index: 100000; /* be shameless here for diagnostics */
  place-items: center;
  padding: 0;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.22);
  background: rgba(17,17,20,.55);
  backdrop-filter: blur(8px);
  color: #fff;
  cursor: pointer;
  user-select: none;
  transition: transform .15s ease, background .15s ease,
              border-color .15s ease, box-shadow .15s ease;
  box-shadow: 0 6px 18px rgba(0,0,0,.35);
}

.skip-intro:hover {
  background: rgba(24,24,28,.7);
  border-color: rgba(255,255,255,.35);
  transform: translateY(-1px);
}

.skip-intro:active { transform: translateY(0); }

.skip-intro:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(167,139,250,.55);
}

@media (max-width: 420px) {
  .skip-intro {
    left: 12px;
    bottom: 12px;
    inline-size: 38px;
    block-size: 38px;
  }
}

