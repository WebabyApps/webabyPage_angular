{"ast":null,"code":"import _asyncToGenerator from \"/Users/tomaszszornel/Documents/GitHub/webaby-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nconst _c0 = [\"track\"];\nfunction ProductsCarouselComponent_article_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"article\", 6);\n    i0.ɵɵelement(1, \"img\", 7);\n    i0.ɵɵelementStart(2, \"div\", 8)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const p_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", p_r2.img, i0.ɵɵsanitizeUrl)(\"alt\", p_r2.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r2.desc);\n  }\n}\nexport let ProductsCarouselComponent = /*#__PURE__*/(() => {\n  class ProductsCarouselComponent {\n    constructor() {\n      this.products = [{\n        title: 'Bubble Word',\n        img: 'assets/bubble.jpg',\n        desc: 'Fast-paced word puzzler bursting with color and combos. Train vocabulary and reflexes.'\n      }, {\n        title: 'Basketball Shots',\n        img: 'assets/basket.jpg',\n        desc: 'Arcade-style hoops with comic visuals. Shoot, swipe, and chase high scores with friends.'\n      }, {\n        title: 'System of Equations Trainer',\n        img: 'assets/equations.jpg',\n        desc: 'Make algebra click with interactive drills and visual challenges that build intuition.'\n      }, {\n        title: 'Abecadlowo',\n        img: 'assets/scene1.jpg',\n        desc: 'Alphabet adventures — playful letter quests that spark reading and spelling joy.'\n      }, {\n        title: 'Lucky Draw',\n        img: 'assets/scene2.jpg',\n        desc: 'Spin, pick, celebrate! Party‑friendly mini‑game for fair choices and quick fun.'\n      }, {\n        title: 'Bibble Echo',\n        img: 'assets/scene3.jpg',\n        desc: 'Rhythm & memory mashup — echo the pattern, level up your flow and focus.'\n      }];\n      this.autoplayId = null;\n      this.hoverId = null;\n      this.easeOutCubic = t => 1 - Math.pow(1 - t, 3);\n      this.easeInOutCubic = t => t < .5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;\n    }\n    ngAfterViewInit() {\n      this.startAutoplay();\n      window.addEventListener('resize', () => this.nudge());\n    }\n    track() {\n      return this.trackRef.nativeElement;\n    }\n    gap() {\n      return 18;\n    }\n    cardWidth() {\n      const c = this.track().querySelector('.card');\n      if (!c) return 320 + this.gap();\n      return c.getBoundingClientRect().width + this.gap();\n    }\n    move(px) {\n      const t = this.track();\n      t.scrollLeft += px;\n      const max = t.scrollWidth - t.clientWidth;\n      if (t.scrollLeft <= 0) t.scrollLeft = max - 2;else if (t.scrollLeft >= max - 1) t.scrollLeft = 1;\n    }\n    animateBy(delta, dur = 420, ease = t => t) {\n      const t = this.track();\n      const startX = t.scrollLeft;\n      const max = t.scrollWidth - t.clientWidth;\n      const s = performance.now();\n      return new Promise(res => {\n        const f = n => {\n          const k = Math.min(1, (n - s) / dur);\n          const x = startX + delta * ease(k);\n          t.scrollLeft = Math.max(0, Math.min(max, x));\n          if (k < 1) requestAnimationFrame(f);else res();\n        };\n        requestAnimationFrame(f);\n      });\n    }\n    spring(dir) {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        _this.stopAutoplay();\n        _this.stopHover();\n        const d = _this.cardWidth() * dir;\n        const over = d * 0.14;\n        yield _this.animateBy(d + over, 340, _this.easeOutCubic);\n        yield _this.animateBy(-over, 180, _this.easeInOutCubic);\n        _this.startAutoplay();\n      })();\n    }\n    startAutoplay() {\n      this.stopAutoplay();\n      this.autoplayId = setInterval(() => this.move(this.cardWidth()), 4000);\n    }\n    stopAutoplay() {\n      if (this.autoplayId) {\n        clearInterval(this.autoplayId);\n        this.autoplayId = null;\n      }\n    }\n    hover(dir) {\n      this.stopHover();\n      this.hoverId = setInterval(() => this.move(dir * 4), 16);\n      this.stopAutoplay();\n    }\n    stopHover() {\n      if (this.hoverId) {\n        clearInterval(this.hoverId);\n        this.hoverId = null;\n      }\n      this.startAutoplay();\n    }\n    nudge() {\n      this.move(0);\n    }\n    static {\n      this.ɵfac = function ProductsCarouselComponent_Factory(t) {\n        return new (t || ProductsCarouselComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProductsCarouselComponent,\n        selectors: [[\"app-products-carousel\"]],\n        viewQuery: function ProductsCarouselComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 7);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.trackRef = _t.first);\n          }\n        },\n        decls: 8,\n        vars: 1,\n        consts: [[\"track\", \"\"], [1, \"carousel\"], [\"aria-label\", \"Previous\", 1, \"car-arrow\", \"left\", 3, \"mouseenter\", \"mouseleave\", \"click\"], [1, \"car-track\"], [\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [\"aria-label\", \"Next\", 1, \"car-arrow\", \"right\", 3, \"mouseenter\", \"mouseleave\", \"click\"], [1, \"card\"], [3, \"src\", \"alt\"], [1, \"card-body\"]],\n        template: function ProductsCarouselComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"div\", 1)(1, \"button\", 2);\n            i0.ɵɵlistener(\"mouseenter\", function ProductsCarouselComponent_Template_button_mouseenter_1_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.hover(-1));\n            })(\"mouseleave\", function ProductsCarouselComponent_Template_button_mouseleave_1_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.stopHover());\n            })(\"click\", function ProductsCarouselComponent_Template_button_click_1_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.spring(-1));\n            });\n            i0.ɵɵtext(2, \"\\u276E\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 3, 0);\n            i0.ɵɵtemplate(5, ProductsCarouselComponent_article_5_Template, 7, 4, \"article\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"button\", 5);\n            i0.ɵɵlistener(\"mouseenter\", function ProductsCarouselComponent_Template_button_mouseenter_6_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.hover(1));\n            })(\"mouseleave\", function ProductsCarouselComponent_Template_button_mouseleave_6_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.stopHover());\n            })(\"click\", function ProductsCarouselComponent_Template_button_click_6_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.spring(1));\n            });\n            i0.ɵɵtext(7, \"\\u276F\");\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngForOf\", ctx.products);\n          }\n        },\n        dependencies: [i1.NgForOf],\n        styles: [\"[_nghost-%COMP%]{display:block}.card[_ngcontent-%COMP%]{background:var(--panel);border:1px solid var(--line);border-radius:14px;overflow:hidden;display:grid;grid-template-columns:1fr;transition:transform .25s,box-shadow .25s;min-width:var(--slide-w-desktop)}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 30px #00000040}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{aspect-ratio:16/9;object-fit:cover}.card-body[_ngcontent-%COMP%]{padding:14px}[_nghost-%COMP%]{--gap:18px;--slide-w-desktop: 360px;--slide-w-mobile: calc(100% - 40px) }.carousel[_ngcontent-%COMP%]{position:relative;margin-top:12px}.car-track[_ngcontent-%COMP%]{display:flex;gap:var(--gap);overflow:hidden;scroll-behavior:auto;padding:2px}.car-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);z-index:5;border:none;background:#ffffffd9;color:#111;width:40px;height:40px;border-radius:50%;cursor:pointer;display:grid;place-items:center;box-shadow:0 6px 18px #00000040}.car-arrow.left[_ngcontent-%COMP%]{left:-8px}.car-arrow.right[_ngcontent-%COMP%]{right:-8px}.car-arrow[_ngcontent-%COMP%]:hover{background:#fff}@media (max-width: 900px){.card[_ngcontent-%COMP%]{min-width:var(--slide-w-mobile)}.car-arrow.left[_ngcontent-%COMP%]{left:4px}.car-arrow.right[_ngcontent-%COMP%]{right:4px}}\"]\n      });\n    }\n  }\n  return ProductsCarouselComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}